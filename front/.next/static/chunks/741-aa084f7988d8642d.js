"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{97988:function(e,n,t){t.d(n,{Z:function(){return U}});var i=t(72640),r=t(67294),s=t(41664),l=t.n(s),a=t(2831),o=t(68354),c=t(71230),d=t(15746),h=t(31638),u=t(98293),x=t(11550),p=t(25617),m=t(65529),g=t(85893),j=function(){var e=(0,p.I0)(),n=(0,p.v9)(function(e){return e.user}),t=n.me,i=n.logOutLoading,s=(0,r.useCallback)(function(){e((0,m.vR)())},[]);return(0,g.jsxs)(h.Z,{actions:[(0,g.jsx)("div",{children:(0,g.jsxs)(l(),{href:"/user/".concat(t.id),children:["짹짹",(0,g.jsx)("br",{}),t.Posts.length]})},"twit"),(0,g.jsx)("div",{children:(0,g.jsxs)(l(),{href:"/profile",children:["팔로잉",(0,g.jsx)("br",{}),t.Followings.length]})},"followings"),(0,g.jsx)("div",{children:(0,g.jsxs)(l(),{href:"/profile",children:["팔로워",(0,g.jsx)("br",{}),t.Followers.length]})},"followings")],children:[(0,g.jsx)(h.Z.Meta,{avatar:(0,g.jsx)(u.C,{children:t.nickname[0]}),title:t.nickname}),(0,g.jsx)(x.Z,{onClick:s,loading:i,children:"로그아웃"})]})},f=t(80549),v=t(94589),C=v.ZP.div.withConfig({displayName:"LoginForm__ButtonWrapper",componentId:"sc-stiv8o-0"})(["margin-top:10px;"]),Z=(0,v.ZP)(f.Z).withConfig({displayName:"LoginForm__LogoutWrapper",componentId:"sc-stiv8o-1"})(["margin:10px;"]),k=function(){var e=(0,p.I0)(),n=(0,p.v9)(function(e){return e.user}),t=n.logInLoading,i=n.logInError,s=(0,r.useState)(""),o=s[0],c=s[1],d=(0,r.useState)(""),h=d[0],u=d[1];(0,r.useEffect)(function(){i&&alert(i)},[i]);var j=(0,r.useCallback)(function(e){c(e.target.value)},[]),f=(0,r.useCallback)(function(e){u(e.target.value)},[]),v=(0,r.useCallback)(function(){e((0,m.tP)({email:o,password:h}))},[o,h]);return(0,g.jsxs)(Z,{onFinish:v,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{children:"이메일"}),(0,g.jsx)("br",{}),(0,g.jsx)(a.Z,{name:"user-email",type:"email",value:o,onChange:j,required:!0})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{children:"비밀번호"}),(0,g.jsx)("br",{}),(0,g.jsx)(a.Z,{name:"user-password",value:h,onChange:f,required:!0})]}),(0,g.jsxs)(C,{children:[(0,g.jsx)(x.Z,{type:"primary",htmlType:"submit",loading:t,children:"로그인"}),(0,g.jsx)(l(),{href:"/signup",children:(0,g.jsx)(x.Z,{children:"회원가입"})})]})]})},y=t(70648),w=t(11163),b=t.n(w),I=(0,v.ZP)(a.Z.Search).withConfig({displayName:"AppLayout__SearchInput",componentId:"sc-1lkcbje-0"})(["vertical-align:middle;"]),_=(0,v.vJ)([".ant-row{margin-right:0 !important;margin-left:0 !important;}.ant-col:first-child{padding-left:0 !important;}.ant-col:last-child{padding-right:0 !important;}"]),U=function(e){var n=e.children,t=(0,y.Z)(""),s=(0,i.Z)(t,2),a=s[0],h=s[1],u=(0,p.v9)(function(e){return e.user}).me,x=(0,r.useCallback)(function(){b().push("/hashtag/".concat(a))},[a]);return(0,g.jsxs)("div",{children:[(0,g.jsx)(_,{}),(0,g.jsxs)(o.Z,{mode:"horizontal",children:[(0,g.jsx)(o.Z.Item,{children:(0,g.jsx)(l(),{href:"/",children:"홈"})}),(0,g.jsx)(o.Z.Item,{children:(0,g.jsx)(l(),{href:"/profile",children:"프로필"})}),(0,g.jsx)(o.Z.Item,{children:(0,g.jsx)(I,{value:a,onChange:h,onSearch:x})}),(0,g.jsx)(o.Z.Item,{children:(0,g.jsx)(l(),{href:"/signup",children:"회원가입"})})]}),(0,g.jsxs)(c.Z,{gutter:8,children:[(0,g.jsx)(d.Z,{xs:24,md:6,children:u?(0,g.jsx)(j,{}):(0,g.jsx)(k,{})}),(0,g.jsx)(d.Z,{xs:24,md:12,children:n}),(0,g.jsx)(d.Z,{xs:24,md:6,children:(0,g.jsx)("a",{href:"https://www.naver.com",target:"_blank",rel:"noreferrer noopener",children:"이동"})})]})]})}},33768:function(e,n,t){t.d(n,{Z:function(){return O}});var i=t(75843),r=t(77213),s=t(49647),l=t(38545),a=t(89705),o=t(31638),c=t(74627),d=t(11550),h=t(98293),u=t(6574),x=t(41664),p=t.n(x),m=t(67294),g=t(25617),j=t(33796),f=t(94589),v=t(85893),C=f.ZP.div.withConfig({displayName:"Comment__CommentWrapper",componentId:"sc-19j9nkw-0"})(["display:flex;align-items:center;padding:10px 0;& > div{display:flex;flex-direction:column;justify-content:center;padding-left:10px;& > span{color:rgba(0,0,0,0.45);}& > p{margin:0;padding:0;}}"]),Z=function(e){var n=e.author,t=e.avartar,i=e.content;return(0,v.jsxs)(C,{children:[(0,v.jsx)(h.C,{children:t}),(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{children:n}),(0,v.jsx)("p",{children:i})]})]})},k=t(72640),y=t(80549),w=t(2831),b=t(70648),I=function(e){var n=e.post,t=(0,g.I0)(),i=(0,g.v9)(function(e){var n,t;return null===(n=e.user)||void 0===n?void 0:null===(t=n.me)||void 0===t?void 0:t.id}),r=(0,b.Z)(""),s=(0,k.Z)(r,3),l=s[0],a=s[1],o=s[2],c=(0,g.v9)(function(e){return e.post}).addCommentDone;(0,m.useEffect)(function(){c&&o("")},[c]);var h=(0,m.useCallback)(function(){t({type:j.Ot,data:{content:l,PostId:n.id,userId:i}})},[l,i]);return(0,v.jsx)(y.Z,{onFinish:h,children:(0,v.jsxs)(y.Z.Item,{style:{position:"relative",margin:0},children:[(0,v.jsx)(w.Z.TextArea,{rows:4,value:l,onChange:a}),(0,v.jsx)(d.Z,{style:{position:"absolute",right:0,bottom:-40,zIndex:1},type:"primary",htmlType:"submit",children:"보내기"})]})})},_=t(65529),U=function(e){var n=e.post,t=(0,g.I0)(),i=(0,g.v9)(function(e){return e.user}),r=i.me,s=i.followLoading,l=i.unfollowLoading,a=null==r?void 0:r.Followings.find(function(e){return e.id===n.User.id}),o=(0,m.useCallback)(function(){a?t({type:_.Bk,data:n.User.id}):t({type:_.U_,data:n.User.id})},[a]);return n.User.id===r.id?null:(0,v.jsx)(d.Z,{loading:s||l,onClick:o,children:a?"언팔로우":"팔로우"})},N=function(e){var n=e.postData,t=/(#[^\s#]+)/g;return(0,v.jsx)("div",{children:null==n?void 0:n.split(t).map(function(e,n){return e.match(t)?(0,v.jsx)(p(),{href:"/hashtag/".concat(e.slice(1)),children:e},n):e})})},P=t(24969),S=t(46066),F=t(97937),L=(0,f.vJ)([".slick-slide{display:inline-block;}.ant-card-cover{transform:none !important;}"]),R=f.ZP.div.withConfig({displayName:"styles__Overlay",componentId:"sc-18vcevl-0"})(["position:fixed;z-index:5000;top:0;left:0;right:0;bottom:0;"]),T=f.ZP.header.withConfig({displayName:"styles__Header",componentId:"sc-18vcevl-1"})(["height:44px;background:white;position:relative;padding:0;text-align:center;& h1{margin:0;font-size:17px;color:#333;line-height:44px;}"]),z=f.ZP.div.withConfig({displayName:"styles__SlickWrapper",componentId:"sc-18vcevl-2"})(["height:calc(100% - 44px);background:#090909;"]),A=(0,f.ZP)(F.Z).withConfig({displayName:"styles__CloseBtn",componentId:"sc-18vcevl-3"})(["position:absolute;right:0;top:0;padding:15px;line-height:14px;cursor:pointer;"]),D=f.ZP.div.withConfig({displayName:"styles__Indicator",componentId:"sc-18vcevl-4"})(["text-align:center;& > div{width:75px;height:30px;line-height:30px;border-radius:15px;background:#313131;display:inline-block;text-align:center;color:white;font-size:15px;}"]),E=f.ZP.div.withConfig({displayName:"styles__ImgWrapper",componentId:"sc-18vcevl-5"})(["padding:32px;text-align:center;& img{margin:0 auto;max-height:750px;}"]),W=function(e){var n=e.images,t=e.onClose,i=(0,m.useState)(0),r=i[0],s=i[1];return(0,v.jsxs)(R,{children:[(0,v.jsx)(L,{}),(0,v.jsxs)(T,{children:[(0,v.jsx)("h1",{children:"상세 이미지"}),(0,v.jsx)(A,{onClick:t})]}),(0,v.jsx)(z,{children:(0,v.jsxs)("div",{children:[(0,v.jsx)(S.Z,{initialSlide:0,beforeChange:function(e,n){return s(n)},infinite:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,children:n.map(function(e){return(0,v.jsx)(E,{children:(0,v.jsx)("img",{src:"http://localhost:3065/".concat(e.src),alt:e.src})},e.src)})}),(0,v.jsx)(D,{children:(0,v.jsxs)("div",{children:[r+1," /",n.length]})})]})})]})},B=function(e){var n=e.images,t=(0,m.useState)(!1),i=t[0],r=t[1],s=(0,m.useCallback)(function(){r(!0)},[]),l=(0,m.useCallback)(function(){r(!1)},[]);return 1===n.length?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("img",{style:{maxHeight:"200px"},role:"presentation",src:"http://localhost:3065/".concat(n[0].src),alt:n[0].src,onClick:s}),i&&(0,v.jsx)(W,{images:n,onClose:l})]}):2===n.length?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("img",{style:{width:"50%",display:"inline-block"},role:"presentation",src:"http://localhost:3065/".concat(n[0].src),alt:n[0].src,onClick:s}),(0,v.jsx)("img",{style:{width:"50%",display:"inline-block"},role:"presentation",src:"http://localhost:3065/".concat(n[0].src),alt:n[0].src,onClick:s}),i&&(0,v.jsx)(W,{images:n,onClose:l})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{style:{width:"50%"},role:"presentation",src:"http://localhost:3065/".concat(n[0].src),alt:n[0].src,onClick:s}),(0,v.jsxs)("div",{role:"presentation",style:{display:"inline-block",width:"50%",textAlign:"center",verticalAlign:"middle"},onClick:s,children:[(0,v.jsx)(P.Z,{}),(0,v.jsx)("br",{}),n.length-1,"개의 사진 더보기"]})]}),i&&(0,v.jsx)(W,{images:n,onClose:l})]})},H=t(30381),M=t.n(H),O=function(e){var n=e.post,t=(0,g.I0)(),x=(0,g.v9)(function(e){var n;return null===(n=e.user.me)||void 0===n?void 0:n.id}),f=n.Likers.find(function(e){return e.id===x}),C=(0,g.v9)(function(e){return e.post}).removePostLoading,k=(0,m.useState)(!1),y=k[0],w=k[1],b=(0,m.useCallback)(function(){return x?t({type:j.xD,data:n.id}):alert("로그인이 필요합니다.")},[x]),_=(0,m.useCallback)(function(){return x?t({type:j.VT,data:n.id}):alert("로그인이 필요합니다.")},[x]),P=(0,m.useCallback)(function(){return x?w(function(e){return!e}):alert("로그인이 필요합니다.")},[x]),S=(0,m.useCallback)(function(){return x?t({type:j.HU,data:n.id}):alert("로그인이 필요합니다.")},[x]),F=(0,m.useCallback)(function(){return x?t({type:j.a0,data:n.id}):alert("로그인이 필요합니다.")},[x]);return(0,v.jsxs)("div",{style:{marginBottom:10},children:[(0,v.jsx)(o.Z,{cover:n.Images.length>0&&(0,v.jsx)(B,{images:n.Images}),actions:[(0,v.jsx)(i.Z,{onClick:F},"retweet"),f?(0,v.jsx)(r.Z,{twoToneColor:"#eb2f96",onClick:_},"headr"):(0,v.jsx)(s.Z,{onClick:b},"heart"),(0,v.jsx)(l.Z,{onClick:P},"message"),(0,v.jsx)(c.Z,{content:(0,v.jsx)(d.Z.Group,{children:x&&n.User.id===Number(x)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.Z,{children:"수정"}),(0,v.jsx)(d.Z,{danger:!0,loading:C,onClick:S,children:"삭제"})]}):(0,v.jsx)(d.Z,{children:"신고"})}),children:(0,v.jsx)(a.Z,{})},"ellipsis")],title:n.RetweetId?"".concat(n.User.nickname,"님이 리트윗하셨습니다."):null,extra:x&&(0,v.jsx)(U,{post:n}),children:n.RetweetId&&n.Retweet?(0,v.jsxs)(o.Z,{cover:n.Retweet.Images[0]&&(0,v.jsx)(B,{images:n.Retweet.Images}),children:[(0,v.jsx)("div",{style:{float:"right"},children:M()(n.createdAt).fromNow(!0)}),(0,v.jsx)(o.Z.Meta,{avatar:(0,v.jsx)(p(),{href:"/user/".concat(n.Retweet.User.id),prefetch:!1,children:(0,v.jsx)(h.C,{children:n.Retweet.User.nickname[0]})}),title:n.Retweet.User.nickname,description:(0,v.jsx)(N,{postData:n.Retweet.content})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:{float:"right"},children:M()(n.createdAt).fromNow(!0)}),(0,v.jsx)(o.Z.Meta,{avatar:(0,v.jsx)(p(),{href:"/user/".concat(n.User.id),prefetch:!1,children:(0,v.jsx)(h.C,{children:n.User.nickname[0]})}),title:n.User.nickname,description:(0,v.jsx)(N,{postData:n.content})})]})}),y&&(0,v.jsxs)("div",{children:[(0,v.jsx)(I,{post:n}),(0,v.jsx)(u.ZP,{header:"".concat(n.Comments.length,"개의 댓글"),itemLayout:"horizontal",dataSource:n.Comments,renderItem:function(e){return console.log(3333333333333,e),(0,v.jsx)("li",{children:(0,v.jsx)(Z,{author:e.User.nickname,avartar:(0,v.jsx)(p(),{href:"/user/".concat(e.User.id),prefetch:!1,children:(0,v.jsx)(h.C,{children:e.User.nickname[0]})}),content:e.content})})}})]})]})}},70648:function(e,n,t){var i=t(67294);n.Z=function(e){var n=(0,i.useState)(e),t=n[0],r=n[1];return[t,(0,i.useCallback)(function(e){r(e.target.value)},[]),r]}}}]);
{"version":3,"file":"../pages/signup.js","mappings":"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,EAAEhC,0EAAoBA;EADL,CAAvB;EAIA4C,OAAO,CAACM,KAAR,CAAc3C,QAAd,CAAuBF,4CAAvB;EACA,MAAMuC,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,SAAvB,EAAN;AACD,CAhB+B,CAA3B;AAmBP,iEAAe9C,MAAf;;;;;;;;;ACvKA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://front/./pages/signup.tsx","webpack://front/external commonjs \"antd\"","webpack://front/external commonjs \"faker\"","webpack://front/external commonjs \"next-redux-wrapper\"","webpack://front/external commonjs \"next/dist/shared/lib/app-router-context.js\"","webpack://front/external commonjs \"next/dist/shared/lib/head-manager-context.js\"","webpack://front/external commonjs \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://front/external commonjs \"next/dist/shared/lib/is-plain-object.js\"","webpack://front/external commonjs \"next/dist/shared/lib/mitt.js\"","webpack://front/external commonjs \"next/dist/shared/lib/page-path/denormalize-page-path.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router-context.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/add-path-prefix.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/compare-states.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/format-next-pathname-info.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/format-url.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/get-next-pathname-info.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/is-bot.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/parse-path.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/path-has-prefix.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/remove-trailing-slash.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/resolve-rewrites.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://front/external commonjs \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://front/external commonjs \"next/dist/shared/lib/utils.js\"","webpack://front/external commonjs \"next/head\"","webpack://front/external commonjs \"next/router\"","webpack://front/external commonjs \"react\"","webpack://front/external commonjs \"react-dom\"","webpack://front/external commonjs \"react-redux\"","webpack://front/external commonjs \"react/jsx-runtime\"","webpack://front/external commonjs \"redux\"","webpack://front/external commonjs \"redux-devtools-extension\"","webpack://front/external commonjs \"redux-saga/effects\"","webpack://front/external commonjs \"shortid\"","webpack://front/external commonjs \"styled-components\"","webpack://front/external module \"axios\"","webpack://front/external module \"immer\"","webpack://front/external module \"redux-saga\""],"sourcesContent":["import { Button, Checkbox, Form, Input } from \"antd\";\r\nimport Head from \"next/head\";\r\nimport React, { FC, useCallback, useEffect, useState } from \"react\";\r\nimport AppLayout from \"../components/AppLayout\";\r\nimport useInput from \"../hooks/useInput\";\r\n\r\nimport type { CheckboxChangeEvent } from \"antd/es/checkbox\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LOAD_MY_INFO_REQUEST, SIGN_UP_REQUEST } from \"../reducers/user\";\r\nimport { reducerType } from \"../reducers\";\r\nimport Router from \"next/router\";\r\nimport axios from \"axios\";\r\nimport wrapper from \"../store/configureStore\";\r\nimport { END } from \"redux-saga\";\r\n\r\nconst signup: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { signUpLoading, signUpDone, signUpError, me } = useSelector(\r\n    (state: reducerType) => state.user\r\n  );\r\n\r\n  const [passwordCheck, setPasswordCheck] = useState(\"\");\r\n  const [term, setTerm] = useState(false);\r\n  const [passwordError, setPasswordError] = useState(false);\r\n  const [termError, setTermError] = useState(false);\r\n\r\n  const [email, onChangeEmail] = useInput(\"\");\r\n  const [nickname, onChangeNickName] = useInput(\"\");\r\n  const [password, onChangePassword] = useInput(\"\");\r\n\r\n  useEffect(() => {\r\n    if (me && me?.id) {\r\n      Router.replace(\"/\");\r\n    }\r\n  }, [me, me?.id]);\r\n\r\n  useEffect(() => {\r\n    if (signUpDone) {\r\n      Router.replace(\"/\");\r\n    }\r\n  }, [signUpDone]);\r\n\r\n  useEffect(() => {\r\n    if (signUpError) {\r\n      alert(signUpError);\r\n    }\r\n  }, [signUpError]);\r\n\r\n  const onSubmit = useCallback(() => {\r\n    if (password !== passwordCheck) {\r\n      setPasswordError(true);\r\n      return;\r\n    }\r\n    if (!term) {\r\n      setTermError(true);\r\n      return;\r\n    }\r\n    dispatch({\r\n      type: SIGN_UP_REQUEST,\r\n      data: { email, password, nickname },\r\n    });\r\n  }, [email, nickname, password, passwordCheck, term]);\r\n\r\n  const onChangePasswordCheck = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setPasswordError(e.target.value !== password);\r\n      setPasswordCheck(e.target.value);\r\n    },\r\n    [password]\r\n  );\r\n\r\n  const onChangeTerm = useCallback((e: CheckboxChangeEvent) => {\r\n    setTermError(false);\r\n    setTerm(e.target.checked);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <AppLayout>\r\n        <Head>\r\n          <title>회원가입 | twitter</title>\r\n        </Head>\r\n        <Form onFinish={onSubmit} style={{ padding: 10 }}>\r\n          <div>\r\n            <label htmlFor=\"user-email\">이메일</label>\r\n            <br />\r\n            <Input\r\n              name=\"user-email\"\r\n              value={email}\r\n              type=\"email\"\r\n              required\r\n              onChange={onChangeEmail}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"user-nickname\">닉네임</label>\r\n            <br />\r\n            <Input\r\n              name=\"user-nickname\"\r\n              value={nickname}\r\n              required\r\n              onChange={onChangeNickName}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"user-password\">비밀번호</label>\r\n            <br />\r\n            <Input\r\n              name=\"user-password\"\r\n              type=\"password\"\r\n              value={password}\r\n              required\r\n              onChange={onChangePassword}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"user-password-check\">비밀번호체크</label>\r\n            <br />\r\n            <Input\r\n              name=\"user-password-check\"\r\n              type=\"password\"\r\n              value={passwordCheck}\r\n              required\r\n              onChange={onChangePasswordCheck}\r\n            />\r\n            {passwordError && (\r\n              <div style={{ color: \"red\" }}>비밀번호가 일치하지 않습니다.</div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <Checkbox name=\"user-term\" checked={term} onChange={onChangeTerm}>\r\n              제로초 말을 잘 들을 것을 동의합니다.\r\n            </Checkbox>\r\n            {termError && (\r\n              <div style={{ color: \"red\" }}>약관에 동의하셔야 합니다.</div>\r\n            )}\r\n          </div>\r\n          <div style={{ marginTop: 10 }}>\r\n            <Button type=\"primary\" htmlType=\"submit\" loading={signUpLoading}>\r\n              가입하기\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </AppLayout>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(\r\n  async (context) => {\r\n    const cookie = context.req ? context.req.headers.cookie : \"\";\r\n    axios.defaults.headers.Cookie = \"\";\r\n\r\n    // 프론트 서버에서 쿠기가 공유되는 문제\r\n    if (context.req && cookie) {\r\n      axios.defaults.headers.Cookie = cookie;\r\n    }\r\n\r\n    context.store.dispatch({\r\n      type: LOAD_MY_INFO_REQUEST,\r\n    });\r\n\r\n    context.store.dispatch(END);\r\n    await context.store.sagaTask.toPromise();\r\n  }\r\n);\r\n\r\nexport default signup;\r\n","module.exports = require(\"antd\");","module.exports = require(\"faker\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/shared/lib/app-router-context.js\");","module.exports = require(\"next/dist/shared/lib/head-manager-context.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/is-plain-object.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/page-path/denormalize-page-path.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/add-path-prefix.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/compare-states.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/format-next-pathname-info.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/format-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-next-pathname-info.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-bot.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-path.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/path-has-prefix.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/remove-trailing-slash.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/resolve-rewrites.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"shortid\");","module.exports = require(\"styled-components\");","module.exports = import(\"axios\");;","module.exports = import(\"immer\");;","module.exports = import(\"redux-saga\");;"],"names":["Button","Checkbox","Form","Input","Head","React","useCallback","useEffect","useState","AppLayout","useInput","useDispatch","useSelector","LOAD_MY_INFO_REQUEST","SIGN_UP_REQUEST","Router","axios","wrapper","END","signup","dispatch","signUpLoading","signUpDone","signUpError","me","state","user","passwordCheck","setPasswordCheck","term","setTerm","passwordError","setPasswordError","termError","setTermError","email","onChangeEmail","nickname","onChangeNickName","password","onChangePassword","id","replace","alert","onSubmit","type","data","onChangePasswordCheck","e","target","value","onChangeTerm","checked","padding","color","marginTop","getServerSideProps","context","cookie","req","headers","defaults","Cookie","store","sagaTask","toPromise"],"sourceRoot":""}